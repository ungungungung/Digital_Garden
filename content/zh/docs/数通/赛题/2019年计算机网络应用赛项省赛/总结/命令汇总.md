---
title: 命令汇总
---
-  STP 边缘端口
	-  `gigabitEthernet 0/1`
	-  `spanning-tree portfast`
	-  `exit`
-  端口隔离
	-  `gigabitEthernet 0/1`
	-  `switchport protected`
	-  `exit`
-  端口描述
	-  `gigabitEthernet 0/1`
	-  `description string`
	-  `exit`
-  链路聚合
	-  `interface gigabitEthernet 0/1`
	-  `port-group 1`
	-  `exit`
	-  `interface gigabitEthernet 0/2`
	-  `port-group 1`
	-  `exit`
	-  `interface aggregatePort 1`
	-  `exit`
-  批量创建vlan
	-  `vlan range 1,2,3,4,5,6,7,8,9,10`
-  开启rldp防环
	-  `rldp enable`
	-  `interface range gigabitEthernet 0/1`
	-  `rldp port loop-detect shutdown-port`
	-  `errdisable recovery interval 300`
	-  `exit`
-  前缀列表匹配NAT流量
	-  `ip nat pool nat_pool prefix-length 24`
	-  `address interface GigabitEthernet 0/1 match interface GigabitEthernet 0/1`
	-  `exit`
	-  `ip nat inside source list 100 pool nat_pool overload`
	-  `interface gigabitEthernet 0/1`
	-  `ip nat inside`
	-  `exit`
	-  `interface gigabitEthernet 0/2`
	-  `ip nat outside`
	-  `exit`
-  NAT地址池
	-  `ip nat pool interface 20.1.0.1 20.1.0.1 netmask 255.255.255.240` 
	-  `ip nat inside source list 100 pool interface overload`
	-  `interface gigabitEthernet 0/1`
	-  `ip nat inside`
	-  `exit`
	-  `interface gigabitEthernet 0/2`
	-  `ip nat outside`
	-  `exit`
-  EasyNAT (基于接口)
	-  `ip nat inside source list 100 interface gigabitEthernet 0/1`
-  BPDU保护
	-  `interface gigabitEthernet 0/1`
	-  `spanning-tree bpduguard enable`
	-  `errdisable recovery interval 300`
	-  `exit`
-  DHCP
	-  `service dhcp`
	-  `ip dhcp pool pool_name`
	-  `network 192.168.1.0 255.255.255.0`
	-  `default-route 192.168.1.254`
	-  `exit`
-  DHCP中继
	-  `service dhcp`
	- `interface gigabitEthernet 0/1`
	-  `ip helper-address 11.1.0.2`
	-  `exit`
-  DHCP snooping
	-  `ip dhcp snooping`
	-  `interface gigabitEthernet 0/1`
	-  `ip dhcp snooping trust`
	-  `exit`
-  关闭NFPP功能在某个接口的ARP检测功能
	-  `interface gigabitEthernet 0/1`
	-  `no nfpp arp-guard enable`
	-  `exit`
-  全局设置NFPP日志缓存容量为1024，打印相同log的阈值为300s
	-  `nfpp`
	-  `log-buffer entries 1024`
	-  `log-buffer logs 1 interval 300`
	-  `exit`
-  设置CPU保护机制阈值为500pps
	-  `cpu-protect cpu bandwidth 500`
-  端口安全 (G0/1只允许PC1的mac地址通过)
	-  `interface gigabitEthernet 0/1`
	-  `switchport port-security`
	-  `switchport port-security maximum 1`
	-  `switchport port-security mac-address xxxx.xxxx.xxxx`
	-  `exit`
-  IPSevVPN
	-  R1
		-  `ip access-list extended 100`
		-  `......`
		-  `exit`
		-  `crypto isakmp policy 10`
		-  `encryption 3des`
		-  `authentication pre-share`
		-  `hash md5`
		-  `group 2`
		-  `exit`
		-  `crypto isakmp key 0 123456 address 20.1.0.2`
		-  `crypto ipsec transform-set tran1 esp-3des esp-md5-hmac`
		-  `exit`
		-  `crypto map mymap 10 ipsec-isakmp`
		-  `set peer 20.1.0.2`
		-  `set isakmp-policy 10`
		-  `set transform-set tran1`
		-  `match address 100`
		-  `exit`
		-  `interface gigabitEthernet 0/1`
		-  `crypto map mymap`
		-  `exit`
	-  R2
		-  `ip access-list extended 100`
		-  `......`
		-  `exit`
		-  `crypto isakmp policy 10`
		-  `encryption 3des`
		-  `authentication pre-share`
		-  `hash md5`
		-  `group 2`
		-  `exit`
		-  `crypto isakmp key 0 123456 address 20.1.0.1`
		-  `crypto ipsec transform-set tran1 esp-3des esp-md5-hmac`
		-  `exit`
		-  `crypto map mymap 10 ipsec-isakmp`
		-  `set peer 20.1.0.1`
		-  `set isakmp-policy 10`
		-  `set transform-set tran1`
		-  `match address 100`
		-  `exit`
		-  `interface gigabitEthernet 0/1`
		-  `crypto map mymap`
		-  `exit`
-  MSTP
	-  S1
		-  `spanning-tree`
		-  `spanning-tree mode mstp`
		-  `spanning-tree mst configuration`
		-  `instance 1 vlan 10,20`
		-  `instance 2 vlan 10,20`
		-  `revision 1`
		-  `name ruijie`
		-  `exit`
		-  `spanning-tree mst 1 priority 4096`
		-  `spanning-tree mst 2 priority 8192`
	-  S2
		-  `spanning-tree`
		-  `spanning-tree mode mstp`
		-  `spanning-tree mst configuration`
		-  `instance 1 vlan 10,20`
		-  `instance 2 vlan 10,20`
		-  `revision 1`
		-  `name ruijie`
		-  `exit`
		-  `spanning-tree mst 1 priority 4096`
		-  `spanning-tree mst 2 priority 8192`